---
title: Run Status
category: SQL
tags: [peoplesoft, sql]
---

```sql
-- Num of Instances by Status
SELECT R.RUNSTATUS ,
  X.XLATSHORTNAME DESCR ,
  COUNT(*) NUM_OF_INSTANCES
FROM PSPRCSRQST R ,
  PSXLATITEM X
WHERE R.RUNSTATUS = X.FIELDVALUE
AND X.FIELDNAME   = 'RUNSTATUS'
AND X.EFFDT       =
  (SELECT MAX(X2.EFFDT)
  FROM PSXLATITEM X2
  WHERE X2.FIELDNAME = X.FIELDNAME
  AND X2.FIELDVALUE  = X.FIELDVALUE
  AND X2.EFF_STATUS  = 'A'
  )
AND (R.RUNDTTM BETWEEN TO_DATE('2017-04-13', 'YYYY-MM-DD') AND TO_DATE('2017-04-16', 'YYYY-MM-DD')
OR R.RQSTDTTM BETWEEN TO_DATE('2017-04-13', 'YYYY-MM-DD') AND TO_DATE('2017-04-16', 'YYYY-MM-DD') )
GROUP BY R.RUNSTATUS,
  X.XLATSHORTNAME;
  
  
-- All Instances
SELECT R.PRCSJOBNAME,
  R.PRCSJOBSEQ,
  R.PRCSTYPE,
  R.PRCSNAME,
  R.PRCSINSTANCE,
  R.OPRID,
  R.RUNSTATUS ,
  X.XLATSHORTNAME DESCR ,
  R.RUNDTTM,
  R.RQSTDTTM ,
  R.LASTUPDDTTM ,
  R.BEGINDTTM ,
  R.ENDDTTM
FROM PSPRCSRQST R ,
  PSXLATITEM X
WHERE R.RUNSTATUS = X.FIELDVALUE
AND X.FIELDNAME   = 'RUNSTATUS'
AND X.EFFDT       =
  (SELECT MAX(X2.EFFDT)
  FROM PSXLATITEM X2
  WHERE X2.FIELDNAME = X.FIELDNAME
  AND X2.FIELDVALUE  = X.FIELDVALUE
  AND X2.EFF_STATUS  = 'A'
  )
AND (R.RUNDTTM BETWEEN TO_DATE('2017-04-13', 'YYYY-MM-DD') AND TO_DATE('2017-04-16', 'YYYY-MM-DD')
OR R.RQSTDTTM BETWEEN TO_DATE('2017-04-13', 'YYYY-MM-DD') AND TO_DATE('2017-04-16', 'YYYY-MM-DD') );
```